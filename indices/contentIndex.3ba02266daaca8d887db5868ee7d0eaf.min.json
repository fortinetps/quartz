{"/":{"title":"","content":"\n### [VMware](/tags/vmware)\n### [FortiGate](/tags/fgt)\n### [Cloud](/tags/cloud)\n","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/tags/aws":{"title":"","content":"","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/tags/azure":{"title":"","content":"","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/tags/cloud":{"title":"","content":"### [AWS](/tags/aws)\n### [Azure](/tags/azure)\n### [GCP](/tags/gcp)\n","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/tags/devops":{"title":"","content":"","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/tags/fgt":{"title":"","content":"","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/tags/fortinet":{"title":"","content":"### [FortiGate](/tags/fgt)\n### [FortiManager](/tags/fmg)\n### [FortiAnalyzer](/tags/faz)\n","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/tags/terraform":{"title":"","content":"","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/tags/vmware":{"title":"","content":"","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/work/cloud/Deploy-FortiGate-on-AWS":{"title":"Deploy FortiGate on AWS","content":"\nHow to deploy FortiGate on AWS","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/work/cloud/Deploy-FortiGate-on-Azure":{"title":"Deploy FortiGate on Azure","content":"\nHow to deploy FortiGate on Azure","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/work/cloud/Deploy-FortiManager-on-AWS":{"title":"Deploy FortiManager on AWS","content":"\nHow to deploy FortiManager on AWS","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null},"/work/vmware/Make-Alpine-Linux-VMware-Image":{"title":"Make Alpine Linux VMware Image","content":"\n## Make Alpine Linux VMware Image\n- Step 1: download [Make Alpine Linux VM Image](https://github.com/alpinelinux/alpine-make-vm-image)\n\t- If you want to run this script in a docker container, please check this [workaround](https://github.com/alpinelinux/alpine-make-vm-image/issues/15)\n- Step 2: create alpine linux image with open-vm-tools and openssh packages\n\t- ./alpine-make-vm-image --image-format qcow2 --script-chroot --image-size 2G alpine.qcow2 -p open-vm-tools -p open-vm-tools-guestinfo -p openssh\n- Step 3: convert qcow2 image to vmdk image\n\t- qemu-img convert -f qcow2 -O vmdk -o adapter_type=lsilogic,subformat=monolithicFlat alpine.qcow2 alpine.vmdk\n```shell-session\nroot@home# ls *.qcow2 *.vmdk -al\n-rw-r--r-- 1 root root 2147483648 Oct 18 14:23 alpine-flat.vmdk\n-rw-r--r-- 1 root root  174194688 Oct 18 14:18 alpine.qcow2\n-rw-r--r-- 1 root root      10240 Oct 18 14:23 alpine.vmdk\n```\n- Step 4: create/update new VM, upload vmdk files to VMware, add existing disk, power on VM\n\t- I am running VMware 6.7 in my lab, when creating the VM, I choose \"Linux - Other 4.x or later Linux (64-bit)\" as the Guest OS\n\t- When creating the VM delete/remove the default disk\n\t- For SCSI controller, please choose \"LSI Logic SAS\"\n\t- For VM Options, change Boot Options from EFI to BIOS\n\n![[work/vmware/images/Pasted image 20221019225149.png]]\n\n![[work/vmware/images/Pasted image 20221019225226.png]]\n\n\t- Go to the datastore, find the VM folder, and upload files\n\n![[work/vmware/images/Pasted image 20221019225255.png]]\n\n\t- Edit VM settings, \"ADD NEW DEVICE\" -\u003e \"Existing Hard Disk\" -\u003e browse to the folder and choose the vmdk file you uploaded in previous step\n\n![[work/vmware/images/Pasted image 20221019225323.png]]\n\n![[work/vmware/images/Pasted image 20221019225337.png]]\n\n\t- Power on VM, login with root (no password), run \"ifup eth0\", if you have a DHCP server in the network VM is connected to, VM will get an IP address\n\n![[work/vmware/images/Pasted image 20221019225346.png]]\n\n- Step 5: optimization and others\n\t- For [open-vm-tools](https://wiki.alpinelinux.org/wiki/Open-vm-tools)\n\t\t- rc-update add open-vm-tools boot\n\t\t- rc-service open-vm-tools start\n\t- For [networking](https://wiki.alpinelinux.org/wiki/Configure_Networking)\n\t\t\t- echo \"alpine\" \u003e /etc/hostname \u0026\u0026 hostname -F /etc/hostname\n\t\t\t- rc-update add networking boot\n\t\t\t- rc-update add sshd boot\n\t\t\t- add \"auto eth0\" to /etc/network/interfaces\n```shell-session\nalpine:~# cat /etc/network/interfaces \niface lo inet loopback\n\nauto eth0\niface eth0 inet dhcp\n\npost-up /etc/network/if-post-up.d/*\npost-down /etc/network/if-post-down.d/*\n```\n","lastmodified":"2022-10-20T03:08:54.20886474Z","tags":null}}